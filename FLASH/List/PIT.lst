###############################################################################
#
# IAR ANSI C/C++ Compiler V7.20.2.7424/W32 for ARM        18/Feb/2016  13:23:10
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  E:\freescale_racing\SmartCar_K60_TeamBLANK\source\PIT.c
#    Command line =  
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\source\PIT.c -lCN
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\FLASH\List\ -lB
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\FLASH\List\ -o
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\FLASH\Obj\ --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M4 -e
#        --char_is_signed --fpu=None --dlib_config "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 7.0\arm\INC\c\DLib_Config_Normal.h" -I
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\source\ -I
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\common\ -I
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\LPLD\ -I
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\LPLD\HW\ -I
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\LPLD\DEV\ -Ol -I
#        "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.0\arm\CMSIS\Include\" -D ARM_MATH_CM4
#    List file    =  
#        E:\freescale_racing\SmartCar_K60_TeamBLANK\FLASH\List\PIT.lst
#    Object file  =  E:\freescale_racing\SmartCar_K60_TeamBLANK\FLASH\Obj\PIT.o
#
###############################################################################

E:\freescale_racing\SmartCar_K60_TeamBLANK\source\PIT.c
      1          /*
      2          Arthor : Qian Qiyang (KisaragiAyanoo@twitter)
      3          Date : 2015/12/01
      4          License : MIT
      5          */
      6          
      7          #include "includes.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_EnableIRQ(IRQn_Type)
   \                     NVIC_EnableIRQ: (+1)
   \   00000000   0x2101             MOVS     R1,#+1
   \   00000002   0xF010 0x021F      ANDS     R2,R0,#0x1F
   \   00000006   0x4091             LSLS     R1,R1,R2
   \   00000008   0x....             LDR.N    R2,??DataTable6  ;; 0xe000e100
   \   0000000A   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   0000000C   0x0940             LSRS     R0,R0,#+5
   \   0000000E   0xF842 0x1020      STR      R1,[R2, R0, LSL #+2]
   \   00000012   0x4770             BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_SetPriority(IRQn_Type, uint32_t)
   \                     NVIC_SetPriority: (+1)
   \   00000000   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   00000002   0x2800             CMP      R0,#+0
   \   00000004   0xD508             BPL.N    ??NVIC_SetPriority_0
   \   00000006   0x0109             LSLS     R1,R1,#+4
   \   00000008   0x....             LDR.N    R2,??DataTable6_1  ;; 0xe000ed18
   \   0000000A   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   0000000C   0xF010 0x000F      ANDS     R0,R0,#0xF
   \   00000010   0x1880             ADDS     R0,R0,R2
   \   00000012   0xF800 0x1C04      STRB     R1,[R0, #-4]
   \   00000016   0xE003             B.N      ??NVIC_SetPriority_1
   \                     ??NVIC_SetPriority_0: (+1)
   \   00000018   0x0109             LSLS     R1,R1,#+4
   \   0000001A   0x....             LDR.N    R2,??DataTable6_2  ;; 0xe000e400
   \   0000001C   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   0000001E   0x5481             STRB     R1,[R0, R2]
   \                     ??NVIC_SetPriority_1: (+1)
   \   00000020   0x4770             BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint32_t NVIC_EncodePriority(uint32_t, uint32_t, uint32_t)
   \                     NVIC_EncodePriority: (+1)
   \   00000000   0xB410             PUSH     {R4}
   \   00000002   0xF010 0x0007      ANDS     R0,R0,#0x7
   \   00000006   0xF1D0 0x0307      RSBS     R3,R0,#+7
   \   0000000A   0x2B05             CMP      R3,#+5
   \   0000000C   0xD301             BCC.N    ??NVIC_EncodePriority_0
   \   0000000E   0x2304             MOVS     R3,#+4
   \   00000010   0xE001             B.N      ??NVIC_EncodePriority_1
   \                     ??NVIC_EncodePriority_0: (+1)
   \   00000012   0xF1D0 0x0307      RSBS     R3,R0,#+7
   \                     ??NVIC_EncodePriority_1: (+1)
   \   00000016   0x1D04             ADDS     R4,R0,#+4
   \   00000018   0x2C07             CMP      R4,#+7
   \   0000001A   0xD201             BCS.N    ??NVIC_EncodePriority_2
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0xE000             B.N      ??NVIC_EncodePriority_3
   \                     ??NVIC_EncodePriority_2: (+1)
   \   00000020   0x1EC0             SUBS     R0,R0,#+3
   \                     ??NVIC_EncodePriority_3: (+1)
   \   00000022   0x2401             MOVS     R4,#+1
   \   00000024   0xFA14 0xF303      LSLS     R3,R4,R3
   \   00000028   0x1E5B             SUBS     R3,R3,#+1
   \   0000002A   0x4019             ANDS     R1,R3,R1
   \   0000002C   0x4081             LSLS     R1,R1,R0
   \   0000002E   0x2301             MOVS     R3,#+1
   \   00000030   0xFA13 0xF000      LSLS     R0,R3,R0
   \   00000034   0x1E40             SUBS     R0,R0,#+1
   \   00000036   0x4010             ANDS     R0,R0,R2
   \   00000038   0x4308             ORRS     R0,R0,R1
   \   0000003A   0xBC10             POP      {R4}
   \   0000003C   0x4770             BX       LR               ;; return
      8          
      9          
     10          // ========= Variables =========
     11          
     12          //--- global ---

   \                                 In section .bss, align 4
     13          U32 time_us = 0;
   \                     time_us:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     14          U32 pit0_time;
   \                     pit0_time:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     15          U32 pit1_time; 
   \                     pit1_time:
   \   00000000                      DS8 4
     16          
     17          //--- local ---

   \                                 In section .bss, align 4
     18          U32 pit1_time_tmp;
   \                     pit1_time_tmp:
   \   00000000                      DS8 4
     19          
     20          // =========== PIT 1 ISR =========== 
     21          // ====  UI Refreshing Loop  ==== ( Low priority ) 
     22          

   \                                 In section .text, align 2, keep-with-next
     23          void PIT1_IRQHandler(){
   \                     PIT1_IRQHandler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     24            PIT->CHANNEL[1].TFLG |= PIT_TFLG_TIF_MASK;
   \   00000002   0x....             LDR.N    R0,??DataTable6_3  ;; 0x4003711c
   \   00000004   0x6800             LDR      R0,[R0, #+0]
   \   00000006   0xF050 0x0001      ORRS     R0,R0,#0x1
   \   0000000A   0x....             LDR.N    R1,??DataTable6_3  ;; 0x4003711c
   \   0000000C   0x6008             STR      R0,[R1, #+0]
     25            
     26            pit1_time_tmp = PIT2_VAL();
   \   0000000E   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40037124
   \   00000010   0x6800             LDR      R0,[R0, #+0]
   \   00000012   0x....             LDR.N    R1,??DataTable6_5
   \   00000014   0x6008             STR      R0,[R1, #+0]
     27            
     28            //------------------------
     29            
     30            //LED1_Tog();
     31            
     32            UI_Operation_Service();
   \   00000016   0x.... 0x....      BL       UI_Operation_Service
     33            
     34            Bell_Service();
   \   0000001A   0x.... 0x....      BL       Bell_Service
     35              
     36            if(SW1())
   \   0000001E   0x....             LDR.N    R0,??DataTable6_6  ;; 0x400ff090
   \   00000020   0x6800             LDR      R0,[R0, #+0]
   \   00000022   0xF3C0 0x1000      UBFX     R0,R0,#+4,#+1
   \   00000026   0x2800             CMP      R0,#+0
   \   00000028   0xD001             BEQ.N    ??PIT1_IRQHandler_0
     37              UI_SystemInfo();
   \   0000002A   0x.... 0x....      BL       UI_SystemInfo
     38              
     39            //------------ Other -------------
     40            
     41            pit1_time_tmp = pit1_time_tmp - PIT2_VAL();
   \                     ??PIT1_IRQHandler_0: (+1)
   \   0000002E   0x....             LDR.N    R0,??DataTable6_5
   \   00000030   0x6800             LDR      R0,[R0, #+0]
   \   00000032   0x....             LDR.N    R1,??DataTable6_4  ;; 0x40037124
   \   00000034   0x6809             LDR      R1,[R1, #+0]
   \   00000036   0x1A40             SUBS     R0,R0,R1
   \   00000038   0x....             LDR.N    R1,??DataTable6_5
   \   0000003A   0x6008             STR      R0,[R1, #+0]
     42            pit1_time_tmp = pit1_time_tmp / (g_bus_clock/10000); //100us
   \   0000003C   0x....             LDR.N    R0,??DataTable6_7
   \   0000003E   0x6800             LDR      R0,[R0, #+0]
   \   00000040   0xF242 0x7110      MOVW     R1,#+10000
   \   00000044   0xFBB0 0xF0F1      UDIV     R0,R0,R1
   \   00000048   0x....             LDR.N    R1,??DataTable6_5
   \   0000004A   0x6809             LDR      R1,[R1, #+0]
   \   0000004C   0xFBB1 0xF0F0      UDIV     R0,R1,R0
   \   00000050   0x....             LDR.N    R1,??DataTable6_5
   \   00000052   0x6008             STR      R0,[R1, #+0]
     43            pit1_time = pit1_time_tmp;
   \   00000054   0x....             LDR.N    R0,??DataTable6_5
   \   00000056   0x6800             LDR      R0,[R0, #+0]
   \   00000058   0x....             LDR.N    R1,??DataTable6_8
   \   0000005A   0x6008             STR      R0,[R1, #+0]
     44            
     45          }
   \   0000005C   0xBD01             POP      {R0,PC}          ;; return
     46          
     47          
     48          
     49          //============ PIT 0 ISR  ==========
     50          // ====  Control  ==== ( High priority )
     51          

   \                                 In section .text, align 2, keep-with-next
     52          void PIT0_IRQHandler(){
   \                     PIT0_IRQHandler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     53            PIT->CHANNEL[0].TFLG |= PIT_TFLG_TIF_MASK;
   \   00000002   0x....             LDR.N    R0,??DataTable6_9  ;; 0x4003710c
   \   00000004   0x6800             LDR      R0,[R0, #+0]
   \   00000006   0xF050 0x0001      ORRS     R0,R0,#0x1
   \   0000000A   0x....             LDR.N    R1,??DataTable6_9  ;; 0x4003710c
   \   0000000C   0x6008             STR      R0,[R1, #+0]
     54            
     55            time_us += PIT0_PERIOD_US;
   \   0000000E   0x....             LDR.N    R0,??DataTable6_10
   \   00000010   0x6800             LDR      R0,[R0, #+0]
   \   00000012   0xF600 0x10C4      ADDW     R0,R0,#+2500
   \   00000016   0x....             LDR.N    R1,??DataTable6_10
   \   00000018   0x6008             STR      R0,[R1, #+0]
     56          
     57            //LED2_Tog();
     58            
     59            
     60            //-------- System info -----
     61            
     62            pit0_time = PIT2_VAL();
   \   0000001A   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40037124
   \   0000001C   0x6800             LDR      R0,[R0, #+0]
   \   0000001E   0x....             LDR.N    R1,??DataTable6_11
   \   00000020   0x6008             STR      R0,[R1, #+0]
     63              
     64            battery = Battery();
   \   00000022   0x.... 0x....      BL       Battery
   \   00000026   0x....             LDR.N    R1,??DataTable6_12
   \   00000028   0x8008             STRH     R0,[R1, #+0]
     65            
     66            debug_msg[2]=current_frame_indicator+'0';
   \   0000002A   0x....             LDR.N    R0,??DataTable6_13
   \   0000002C   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000030   0x3030             ADDS     R0,R0,#+48
   \   00000032   0x....             LDR.N    R1,??DataTable6_14
   \   00000034   0x7088             STRB     R0,[R1, #+2]
     67            debug_msg[6]=last_frame_indicator+'0';
   \   00000036   0x....             LDR.N    R0,??DataTable6_15
   \   00000038   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   0000003C   0x3030             ADDS     R0,R0,#+48
   \   0000003E   0x....             LDR.N    R1,??DataTable6_14
   \   00000040   0x7188             STRB     R0,[R1, #+6]
     68            debug_msg[10]=processing_frame_indicator+'0';
   \   00000042   0x....             LDR.N    R0,??DataTable6_16
   \   00000044   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000048   0x3030             ADDS     R0,R0,#+48
   \   0000004A   0x....             LDR.N    R1,??DataTable6_14
   \   0000004C   0x7288             STRB     R0,[R1, #+10]
     69            debug_msg[14]=sending_frame_indicator+'0';
   \   0000004E   0x....             LDR.N    R0,??DataTable6_17
   \   00000050   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000054   0x3030             ADDS     R0,R0,#+48
   \   00000056   0x....             LDR.N    R1,??DataTable6_14
   \   00000058   0x7388             STRB     R0,[R1, #+14]
     70            //-------- Get Sensers -----
     71            
     72            
     73            // Tacho
     74            Tacho0_Get();
   \   0000005A   0x.... 0x....      BL       Tacho0_Get
     75            Tacho1_Get();
   \   0000005E   0x.... 0x....      BL       Tacho1_Get
     76            
     77            
     78            // UI operation input
     79            ui_operation_cnt += tacho0;  // use tacho0 or tacho1
   \   00000062   0x....             LDR.N    R0,??DataTable6_18
   \   00000064   0x8800             LDRH     R0,[R0, #+0]
   \   00000066   0x....             LDR.N    R1,??DataTable6_19
   \   00000068   0xF9B1 0x1000      LDRSH    R1,[R1, #+0]
   \   0000006C   0x1808             ADDS     R0,R1,R0
   \   0000006E   0x....             LDR.N    R1,??DataTable6_18
   \   00000070   0x8008             STRH     R0,[R1, #+0]
     80              
     81              
     82            
     83          #if (CAR_TYPE==0)   // Magnet and Balance
     84            
     85            Mag_Sample();
     86            
     87            gyro1 = Gyro1();
     88            gyro2 = Gyro2();
     89            
     90            
     91            
     92          #elif (CAR_TYPE==1)     // CCD
     93            
     94            CCD1_GetLine();
     95            CCD2_GetLine();
     96            
     97            
     98            
     99            
    100          #else               // Camera
    101            
    102            // Results of camera are automatically put in cam_buffer[].
    103            
    104            
    105          #endif
    106            
    107            
    108            
    109            // -------- Sensor Algorithm --------- ( Users need to realize this )
    110            
    111            // mag example : dir_error = Mag_Algorithm(mag_val);
    112            // ccd example : dir_error = CCD_Algorithm(ccd1_line,ccd2_line);
    113            // cam is complex. realize it in Cam_Algorithm() in Cam.c
    114            
    115            //-------- Controller --------
    116            
    117            
    118            // not balance example : dir_output = Dir_PIDController(dir_error);
    119            // example : get 'motorL_output' and  'motorR_output'
    120            
    121            
    122            // ------- Output -----
    123            
    124            
    125            // not balance example : Servo_Output(dir_output);  
    126            // example : MotorL_Output(motorL_output); MotorR_Output(motorR_output);
    127            
    128            
    129            
    130            // ------- UART ---------
    131            
    132            
    133            //UART_SendDataHead();
    134            //UART_SendData(battery);
    135            
    136            
    137            
    138            // ------- other --------
    139            
    140            pit0_time = pit0_time - PIT2_VAL();
   \   00000072   0x....             LDR.N    R0,??DataTable6_11
   \   00000074   0x6800             LDR      R0,[R0, #+0]
   \   00000076   0x....             LDR.N    R1,??DataTable6_4  ;; 0x40037124
   \   00000078   0x6809             LDR      R1,[R1, #+0]
   \   0000007A   0x1A40             SUBS     R0,R0,R1
   \   0000007C   0x....             LDR.N    R1,??DataTable6_11
   \   0000007E   0x6008             STR      R0,[R1, #+0]
    141            pit0_time = pit0_time / (g_bus_clock/1000000); //us
   \   00000080   0x....             LDR.N    R0,??DataTable6_7
   \   00000082   0x6800             LDR      R0,[R0, #+0]
   \   00000084   0x....             LDR.N    R1,??DataTable6_20  ;; 0xf4240
   \   00000086   0xFBB0 0xF0F1      UDIV     R0,R0,R1
   \   0000008A   0x....             LDR.N    R1,??DataTable6_11
   \   0000008C   0x6809             LDR      R1,[R1, #+0]
   \   0000008E   0xFBB1 0xF0F0      UDIV     R0,R1,R0
   \   00000092   0x....             LDR.N    R1,??DataTable6_11
   \   00000094   0x6008             STR      R0,[R1, #+0]
    142            
    143          }
   \   00000096   0xBD01             POP      {R0,PC}          ;; return
    144          
    145          
    146          
    147          
    148          // ======= INIT ========
    149          

   \                                 In section .text, align 2, keep-with-next
    150          void PIT0_Init(u32 period_us)
    151          { 
   \                     PIT0_Init: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x0004             MOVS     R4,R0
    152                             
    153            SIM->SCGC6 |= SIM_SCGC6_PIT_MASK;
   \   00000004   0x....             LDR.N    R0,??DataTable6_21  ;; 0x4004803c
   \   00000006   0x6800             LDR      R0,[R0, #+0]
   \   00000008   0xF450 0x0000      ORRS     R0,R0,#0x800000
   \   0000000C   0x....             LDR.N    R1,??DataTable6_21  ;; 0x4004803c
   \   0000000E   0x6008             STR      R0,[R1, #+0]
    154            
    155            PIT->MCR = 0x00;
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x....             LDR.N    R1,??DataTable6_22  ;; 0x40037000
   \   00000014   0x6008             STR      R0,[R1, #+0]
    156           
    157            NVIC_EnableIRQ(PIT0_IRQn); 
   \   00000016   0x2044             MOVS     R0,#+68
   \   00000018   0x.... 0x....      BL       NVIC_EnableIRQ
    158            NVIC_SetPriority(PIT0_IRQn, NVIC_EncodePriority(NVIC_GROUP, 1, 2));
   \   0000001C   0x2202             MOVS     R2,#+2
   \   0000001E   0x2101             MOVS     R1,#+1
   \   00000020   0x2005             MOVS     R0,#+5
   \   00000022   0x.... 0x....      BL       NVIC_EncodePriority
   \   00000026   0x0001             MOVS     R1,R0
   \   00000028   0x2044             MOVS     R0,#+68
   \   0000002A   0x.... 0x....      BL       NVIC_SetPriority
    159          
    160            //period = (period_ns/bus_period_ns)-1
    161            PIT->CHANNEL[0].LDVAL |= period_us/100*(g_bus_clock/1000)/10-1; 
   \   0000002E   0x....             LDR.N    R0,??DataTable6_23  ;; 0x40037100
   \   00000030   0x6800             LDR      R0,[R0, #+0]
   \   00000032   0x2164             MOVS     R1,#+100
   \   00000034   0xFBB4 0xF1F1      UDIV     R1,R4,R1
   \   00000038   0x....             LDR.N    R2,??DataTable6_7
   \   0000003A   0x6812             LDR      R2,[R2, #+0]
   \   0000003C   0xF44F 0x737A      MOV      R3,#+1000
   \   00000040   0xFBB2 0xF2F3      UDIV     R2,R2,R3
   \   00000044   0x4351             MULS     R1,R2,R1
   \   00000046   0x220A             MOVS     R2,#+10
   \   00000048   0xFBB1 0xF1F2      UDIV     R1,R1,R2
   \   0000004C   0x1E49             SUBS     R1,R1,#+1
   \   0000004E   0x4308             ORRS     R0,R1,R0
   \   00000050   0x....             LDR.N    R1,??DataTable6_23  ;; 0x40037100
   \   00000052   0x6008             STR      R0,[R1, #+0]
    162            
    163            PIT->CHANNEL[0].TCTRL |= PIT_TCTRL_TIE_MASK |PIT_TCTRL_TEN_MASK;
   \   00000054   0x....             LDR.N    R0,??DataTable6_24  ;; 0x40037108
   \   00000056   0x6800             LDR      R0,[R0, #+0]
   \   00000058   0xF050 0x0003      ORRS     R0,R0,#0x3
   \   0000005C   0x....             LDR.N    R1,??DataTable6_24  ;; 0x40037108
   \   0000005E   0x6008             STR      R0,[R1, #+0]
    164          
    165          };
   \   00000060   0xBD10             POP      {R4,PC}          ;; return
    166          

   \                                 In section .text, align 2, keep-with-next
    167          void PIT1_Init(u32 period_us)
    168          { 
   \                     PIT1_Init: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x0004             MOVS     R4,R0
    169                             
    170            SIM->SCGC6 |= SIM_SCGC6_PIT_MASK;
   \   00000004   0x....             LDR.N    R0,??DataTable6_21  ;; 0x4004803c
   \   00000006   0x6800             LDR      R0,[R0, #+0]
   \   00000008   0xF450 0x0000      ORRS     R0,R0,#0x800000
   \   0000000C   0x....             LDR.N    R1,??DataTable6_21  ;; 0x4004803c
   \   0000000E   0x6008             STR      R0,[R1, #+0]
    171            
    172            PIT->MCR = 0x00;
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x....             LDR.N    R1,??DataTable6_22  ;; 0x40037000
   \   00000014   0x6008             STR      R0,[R1, #+0]
    173           
    174            NVIC_EnableIRQ(PIT1_IRQn); 
   \   00000016   0x2045             MOVS     R0,#+69
   \   00000018   0x.... 0x....      BL       NVIC_EnableIRQ
    175            NVIC_SetPriority(PIT1_IRQn, NVIC_EncodePriority(NVIC_GROUP, 3, 0));
   \   0000001C   0x2200             MOVS     R2,#+0
   \   0000001E   0x2103             MOVS     R1,#+3
   \   00000020   0x2005             MOVS     R0,#+5
   \   00000022   0x.... 0x....      BL       NVIC_EncodePriority
   \   00000026   0x0001             MOVS     R1,R0
   \   00000028   0x2045             MOVS     R0,#+69
   \   0000002A   0x.... 0x....      BL       NVIC_SetPriority
    176          
    177            //period = (period_ns/bus_period_ns)-1
    178            PIT->CHANNEL[1].LDVAL |= period_us/100*(g_bus_clock/1000)/10-1; 
   \   0000002E   0x....             LDR.N    R0,??DataTable6_25  ;; 0x40037110
   \   00000030   0x6800             LDR      R0,[R0, #+0]
   \   00000032   0x2164             MOVS     R1,#+100
   \   00000034   0xFBB4 0xF1F1      UDIV     R1,R4,R1
   \   00000038   0x....             LDR.N    R2,??DataTable6_7
   \   0000003A   0x6812             LDR      R2,[R2, #+0]
   \   0000003C   0xF44F 0x737A      MOV      R3,#+1000
   \   00000040   0xFBB2 0xF2F3      UDIV     R2,R2,R3
   \   00000044   0x4351             MULS     R1,R2,R1
   \   00000046   0x220A             MOVS     R2,#+10
   \   00000048   0xFBB1 0xF1F2      UDIV     R1,R1,R2
   \   0000004C   0x1E49             SUBS     R1,R1,#+1
   \   0000004E   0x4308             ORRS     R0,R1,R0
   \   00000050   0x....             LDR.N    R1,??DataTable6_25  ;; 0x40037110
   \   00000052   0x6008             STR      R0,[R1, #+0]
    179            
    180            PIT->CHANNEL[1].TCTRL |= PIT_TCTRL_TIE_MASK |PIT_TCTRL_TEN_MASK;
   \   00000054   0x....             LDR.N    R0,??DataTable6_26  ;; 0x40037118
   \   00000056   0x6800             LDR      R0,[R0, #+0]
   \   00000058   0xF050 0x0003      ORRS     R0,R0,#0x3
   \   0000005C   0x....             LDR.N    R1,??DataTable6_26  ;; 0x40037118
   \   0000005E   0x6008             STR      R0,[R1, #+0]
    181          
    182          }
   \   00000060   0xBD10             POP      {R4,PC}          ;; return
    183          

   \                                 In section .text, align 2, keep-with-next
    184          void PIT2_Init()
    185          { 
    186                             
    187            SIM->SCGC6 |= SIM_SCGC6_PIT_MASK;
   \                     PIT2_Init: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable6_21  ;; 0x4004803c
   \   00000002   0x6800             LDR      R0,[R0, #+0]
   \   00000004   0xF450 0x0000      ORRS     R0,R0,#0x800000
   \   00000008   0x....             LDR.N    R1,??DataTable6_21  ;; 0x4004803c
   \   0000000A   0x6008             STR      R0,[R1, #+0]
    188            
    189            PIT->MCR = 0x00;
   \   0000000C   0x2000             MOVS     R0,#+0
   \   0000000E   0x....             LDR.N    R1,??DataTable6_22  ;; 0x40037000
   \   00000010   0x6008             STR      R0,[R1, #+0]
    190          
    191            //period = (period_ns/bus_period_ns)-1
    192            PIT->CHANNEL[2].LDVAL = 0xffffffff; 
   \   00000012   0xF05F 0x30FF      MOVS     R0,#-1
   \   00000016   0x....             LDR.N    R1,??DataTable6_27  ;; 0x40037120
   \   00000018   0x6008             STR      R0,[R1, #+0]
    193            
    194            PIT->CHANNEL[2].TCTRL |= PIT_TCTRL_TEN_MASK;
   \   0000001A   0x....             LDR.N    R0,??DataTable6_28  ;; 0x40037128
   \   0000001C   0x6800             LDR      R0,[R0, #+0]
   \   0000001E   0xF050 0x0001      ORRS     R0,R0,#0x1
   \   00000022   0x....             LDR.N    R1,??DataTable6_28  ;; 0x40037128
   \   00000024   0x6008             STR      R0,[R1, #+0]
    195          
    196          }
   \   00000026   0x4770             BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   0xE000E100         DC32     0xe000e100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_1:
   \   00000000   0xE000ED18         DC32     0xe000ed18

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_2:
   \   00000000   0xE000E400         DC32     0xe000e400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_3:
   \   00000000   0x4003711C         DC32     0x4003711c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_4:
   \   00000000   0x40037124         DC32     0x40037124

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_5:
   \   00000000   0x........         DC32     pit1_time_tmp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_6:
   \   00000000   0x400FF090         DC32     0x400ff090

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_7:
   \   00000000   0x........         DC32     g_bus_clock

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_8:
   \   00000000   0x........         DC32     pit1_time

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_9:
   \   00000000   0x4003710C         DC32     0x4003710c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_10:
   \   00000000   0x........         DC32     time_us

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_11:
   \   00000000   0x........         DC32     pit0_time

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_12:
   \   00000000   0x........         DC32     battery

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_13:
   \   00000000   0x........         DC32     current_frame_indicator

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_14:
   \   00000000   0x........         DC32     debug_msg

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_15:
   \   00000000   0x........         DC32     last_frame_indicator

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_16:
   \   00000000   0x........         DC32     processing_frame_indicator

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_17:
   \   00000000   0x........         DC32     sending_frame_indicator

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_18:
   \   00000000   0x........         DC32     ui_operation_cnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_19:
   \   00000000   0x........         DC32     tacho0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_20:
   \   00000000   0x000F4240         DC32     0xf4240

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_21:
   \   00000000   0x4004803C         DC32     0x4004803c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_22:
   \   00000000   0x40037000         DC32     0x40037000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_23:
   \   00000000   0x40037100         DC32     0x40037100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_24:
   \   00000000   0x40037108         DC32     0x40037108

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_25:
   \   00000000   0x40037110         DC32     0x40037110

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_26:
   \   00000000   0x40037118         DC32     0x40037118

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_27:
   \   00000000   0x40037120         DC32     0x40037120

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_28:
   \   00000000   0x40037128         DC32     0x40037128

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   NVIC_EnableIRQ
       4   NVIC_EncodePriority
       0   NVIC_SetPriority
       8   PIT0_IRQHandler
         8   -> Battery
         8   -> Tacho0_Get
         8   -> Tacho1_Get
       8   PIT0_Init
         8   -> NVIC_EnableIRQ
         8   -> NVIC_EncodePriority
         8   -> NVIC_SetPriority
       8   PIT1_IRQHandler
         8   -> Bell_Service
         8   -> UI_Operation_Service
         8   -> UI_SystemInfo
       8   PIT1_Init
         8   -> NVIC_EnableIRQ
         8   -> NVIC_EncodePriority
         8   -> NVIC_SetPriority
       0   PIT2_Init


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_10
       4  ??DataTable6_11
       4  ??DataTable6_12
       4  ??DataTable6_13
       4  ??DataTable6_14
       4  ??DataTable6_15
       4  ??DataTable6_16
       4  ??DataTable6_17
       4  ??DataTable6_18
       4  ??DataTable6_19
       4  ??DataTable6_2
       4  ??DataTable6_20
       4  ??DataTable6_21
       4  ??DataTable6_22
       4  ??DataTable6_23
       4  ??DataTable6_24
       4  ??DataTable6_25
       4  ??DataTable6_26
       4  ??DataTable6_27
       4  ??DataTable6_28
       4  ??DataTable6_3
       4  ??DataTable6_4
       4  ??DataTable6_5
       4  ??DataTable6_6
       4  ??DataTable6_7
       4  ??DataTable6_8
       4  ??DataTable6_9
      20  NVIC_EnableIRQ
      62  NVIC_EncodePriority
      34  NVIC_SetPriority
     152  PIT0_IRQHandler
      98  PIT0_Init
      94  PIT1_IRQHandler
      98  PIT1_Init
      40  PIT2_Init
       4  pit0_time
       4  pit1_time
       4  pit1_time_tmp
       4  time_us

 
  16 bytes in section .bss
 714 bytes in section .text
 
 714 bytes of CODE memory
  16 bytes of DATA memory

Errors: none
Warnings: 2
